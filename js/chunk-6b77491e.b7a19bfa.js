(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b77491e"],{"8ea2":function(t,e,a){t.exports=a.p+"img/USDT.5c93c206.svg"},"99af":function(t,e,a){"use strict";var n=a("23e7"),s=a("d039"),o=a("e8b5"),r=a("861d"),i=a("7b0b"),c=a("50c4"),d=a("8418"),l=a("65f0"),u=a("1dde"),v=a("b622"),f=a("2d00"),m=v("isConcatSpreadable"),p=9007199254740991,g="Maximum allowed index exceeded",h=f>=51||!s((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),b=u("concat"),x=function(t){if(!r(t))return!1;var e=t[m];return void 0!==e?!!e:o(t)},P=!h||!b;n({target:"Array",proto:!0,forced:P},{concat:function(t){var e,a,n,s,o,r=i(this),u=l(r,0),v=0;for(e=-1,n=arguments.length;e<n;e++)if(o=-1===e?r:arguments[e],x(o)){if(s=c(o.length),v+s>p)throw TypeError(g);for(a=0;a<s;a++,v++)a in o&&d(u,v,o[a])}else{if(v>=p)throw TypeError(g);d(u,v++,o)}return u.length=v,u}})},b296:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Pledge"},[n("div",{staticClass:"Pledgeabove"},[n("div",[n("img",{attrs:{src:a("8ea2"),alt:""}}),n("img",{attrs:{src:a("dd20"),alt:""}}),n("div",[n("span",[t._v("USDT-UPC/LP")]),n("span",[t._v(t._s(t.$t("Pledge.text9")))])])]),n("div",{staticClass:"lp"},[t._v(t._s(t.$t("Pledge.text10")))]),n("div",{staticClass:"Inputbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.Pledgeamount,expression:"Pledgeamount"}],attrs:{type:"text",name:"",id:""},domProps:{value:t.Pledgeamount},on:{input:function(e){e.target.composing||(t.Pledgeamount=e.target.value)}}}),n("button",{on:{click:function(e){t.Pledgeamount=t.Tokenbalance}}},[t._v(t._s(t.$t("Pledge.text11")))])]),n("div",{staticClass:"LPbalance"},[n("span",[t._v(t._s(t.$t("Pledge.text12"))+" ")]),n("span",[t._v(t._s(t.Tokenbalance))])]),n("a",{attrs:{href:"https://ht.mdex.co/#/add/0xa71EdC38d189767582C38A3145b5873052c3e47a/0xB1bCc3BacbBBd02f02F9c1335f79C9DD98684905"}},[n("div",{staticClass:"Getlp"},[t._v(t._s(t.$t("Pledge.text13")))])]),n("button",{directives:[{name:"show",rawName:"v-show",value:t.isapprove,expression:"isapprove"}],on:{click:t.approve}},[t._v(t._s(t.$t("Pledge.text14")))]),n("button",{directives:[{name:"show",rawName:"v-show",value:0==t.isapprove,expression:"isapprove==false"}],on:{click:t.Pledge}},[t._v(t._s(t.$t("Pledge.text15")))])]),n("div",{staticClass:"Pledgetitle"},[t._v(t._s(t.$t("Pledge.text16")))]),t._l(t.list,(function(e){return n("div",{key:e,staticClass:"record"},[n("div",[t._m(0,!0),n("span",[t._v(t._s(e.time))])]),n("div",[n("span",[t._v(t._s(t.$t("Pledge.text17")))]),n("span",[t._v(t._s(e.amount))])])])}))],2)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("img",{attrs:{src:a("8ea2"),alt:""}}),n("img",{attrs:{src:a("dd20"),alt:""}}),n("span",[t._v("USDT-UPC/LP")])])}],o=a("5530"),r=(a("99af"),a("a9e3"),a("b680"),a("96cf"),a("1da1")),i={data:function(){return{Tokenbalance:0,Pledgeamount:"",isapprove:!0,list:[]}},created:function(){this.$contracts&&this.init()},methods:{init:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$contracts.Token.methods.balanceOf(t.$address).call((function(e,a){e||(t.Tokenbalance=a.fromWei().toFixed(4))})),e.next=3,t.$contracts.Token.methods.allowance(t.$address,t.$contracts.MasterChef._address).call();case 3:return a=e.sent,Number(a)>Number(t.Tokenbalance)&&(t.isapprove=!1),e.next=7,t.$web3.eth.getBlock("latest");case 7:n=e.sent,t.$contracts.MasterChef.events.Deposit({fromBlock:n.number-4990,filter:{user:t.$address}}).on("data",function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(a),e.next=3,t.$web3.eth.getBlock(a.blockHash);case 3:n=e.sent,t.list.unshift({amount:a.returnValues.amount.fromWei().toFixed(1),time:t.formatTime(n.timestamp)});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:case"end":return e.stop()}}),e)})))()},formatTime:function(t){var e=new Date(1e3*Number(t)),a=e.getFullYear(),n=e.getMonth()+1,s=e.getDate(),o=e.getHours(),r=e.getMinutes();return"".concat(a,"/").concat(n,"/").concat(s," ").concat(o,":").concat(r)},approve:function(){var t=this,e=this.$contracts.Token.methods.approve(this.$contracts.MasterChef._address,this.$web3.utils.toWei("10000000000000"));e.send({from:this.$address}).on("transactionHash",(function(e){vant.Toast.loading({message:t.$t("Pledge.text1"),duration:"toast"})})).on("receipt",(function(e){t.init(),vant.Toast.success(t.$t("Pledge.text2"))})).on("error",(function(e){console.log(e),vant.Toast.fail(t.$t("Pledge.text3"))}))},Pledge:function(){var t=this;if(""==this.Pledgeamount)return vant.Toast.fail(this.$t("Pledge.text4"));if(this.Pledgeamount>this.Tokenbalance)return vant.Toast.fail(this.$t("Pledge.text5"));var e=this.$contracts.MasterChef.methods.deposit(0,this.Pledgeamount.toWei());e.send({from:this.$address}).on("transactionHash",(function(e){vant.Toast.loading({message:t.$t("Pledge.text6"),duration:"toast"})})).on("receipt",(function(e){vant.Toast.success(t.$t("Pledge.text7")),t.init(),t.$reload()})).on("error",(function(e){console.log(e),vant.Toast.fail(t.$t("Pledge.text8"))}))}}},c=Object(o["a"])({},i),d=c,l=(a("c064"),a("2877")),u=Object(l["a"])(d,n,s,!1,null,"f3742e3c",null);e["default"]=u.exports},c064:function(t,e,a){"use strict";a("cad1")},cad1:function(t,e,a){},dd20:function(t,e,a){t.exports=a.p+"img/UPC.acb359d1.svg"}}]);