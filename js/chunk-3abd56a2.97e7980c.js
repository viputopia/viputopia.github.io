(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3abd56a2"],{"25ab":function(t,e,s){t.exports=s.p+"img/Pledgepool.3ee64d42.svg"},"29d2":function(t,e,s){t.exports=s.p+"img/Rightarrow.a26b3236.svg"},"2cff":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"PledgeMining"},[n("div",{staticClass:"PledgeMiningTile"},[t._m(0),n("div",{staticClass:"content"},[n("span",[t._v("我的挖矿/UPC")]),n("div",[n("span",[t._v(t._s(t.Available))]),n("img",{attrs:{src:s("29d2"),alt:""},on:{click:function(e){return t.$router.push("/Collectionpage")}}})]),n("div",[n("button",{on:{click:t.Availables}},[t._v("领取")])])]),n("div",{staticClass:"bilateral"},[n("div",[t._m(1),n("span",[t._v(t._s(t.Pledgepool))])]),n("i"),n("div",[t._m(2),n("span",[t._v(t._s(t.PledgeMiningpool))])])])]),n("div",{staticClass:"PledgeLP"},[t._m(3),n("div",{staticClass:"PledgeLP-Content"},[n("div",{staticClass:"above"},[t._m(4),n("div",[n("span",[t._v("综合APY")]),n("span",[t._v(t._s(t.APY)+"%")])])]),n("div",{staticClass:"middle"},[n("div",[n("span",[t._v("我的质押")]),n("div",[n("span",[t._v(t._s(t.pledgeamount)+" LP")]),n("span",[t._v("≈$"+t._s(t.USDT))])])]),n("div",[n("div",[n("img",{attrs:{src:s("8ea2"),alt:""}}),n("span",[t._v(t._s(t.USDT)+" USDT")])]),n("div",[n("img",{attrs:{src:s("dd20"),alt:""}}),n("span",[t._v(t._s(t.UPC)+" UPC")])])])]),n("button",{on:{click:function(e){return t.$router.push("/Pledge")}}},[t._v("质押")]),n("button",{staticClass:"withdraw",on:{click:function(e){return t.$router.push("/Redemption")}}},[t._v("撤回")])])])])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logo"},[n("img",{attrs:{src:s("4c92"),alt:""}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("img",{attrs:{src:s("25ab"),alt:""}}),n("span",[t._v("质押池")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("img",{attrs:{src:s("d7a5"),alt:""}}),n("span",[t._v("质押矿池")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title"},[s("span",[t._v("质押LP")]),s("span",[t._v("锁仓USDT-UPC LP参与UPC挖矿奖励")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("img",{attrs:{src:s("8ea2"),alt:""}}),n("img",{attrs:{src:s("dd20"),alt:""}}),n("div",[n("span",[t._v("USDT-UPC/LP")]),n("span",[t._v("赚取 UPC")])])])}],i=s("5530"),o=(s("a9e3"),s("b680"),s("d3b7"),s("25f0"),s("96cf"),s("1da1")),r=s("7d35"),c={data:function(){return{Available:0,Pledgepool:0,APY:0,USDT:0,UPC:0,pledgeamount:0,PledgeMiningpool:0}},created:function(){this.$contracts&&this.init(),console.log(this.$contracts),console.log(this.$web3)},methods:{init:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var s,n,a,i,o,c,l,d,u,v,f,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$contracts.MasterChef.methods.pendingCake(0,t.$address).call((function(e,s){e||(t.Available=s.fromWei())})),s="0x1163779202e9e93b5564a0a9f5964242c07ab411",e.next=4,t.$contracts.UPC.methods.balanceOf(s).call();case 4:return n=e.sent,t.PledgeMiningpool=n.fromWei().toFixed(4),e.next=8,Object(r["b"])(t.$web3,t.$contracts.Token._address);case 8:return a=e.sent,e.next=11,Object(r["c"])(t.$web3,t.$contracts.MasterChef,0);case 11:return i=e.sent,t.Pledgepool=(Number(i.toString().fromWei())*Number(a.toString().fromWei())).toFixed(4),e.next=15,Object(r["a"])(t.$web3,t.$contracts.MasterChef,0,i);case 15:return o=e.sent,t.APY=o.words[0],t.$contracts.MasterChef.methods.userInfo(0,t.$address).call((function(e,s){e||(t.pledgeamount=s.amount.fromWei())})),e.next=20,t.$contracts.UPC.methods.balanceOf(t.$contracts.Token._address).call();case 20:return c=e.sent,e.next=23,t.$contracts.USDT.methods.balanceOf(t.$contracts.Token._address).call();case 23:return l=e.sent,e.next=26,t.$contracts.Token.methods.totalSupply().call();case 26:return d=e.sent,e.next=29,t.$contracts.MasterChef.methods.userInfo(0,t.$address).call();case 29:u=e.sent,v=u.amount.toBNs().div(d).times("100"),f=c.toBNs().times(v).div("100").toFixed(0).fromWei(),m=l.toBNs().times(v).div("100").toFixed(0).fromWei(),t.UPC=f.toFixed(4),t.USDT=m.toFixed(4);case 35:case"end":return e.stop()}}),e)})))()},Availables:function(){var t=this;if(0==this.Available)return vant.Toast.fail("余额不足");var e=this.$contracts.MasterChef.methods.withdraw(0,0);e.send({from:this.$address}).on("transactionHash",(function(t){vant.Toast.loading({message:"领取中...",duration:"toast"})})).on("receipt",(function(e){vant.Toast.success("领取成功"),t.init()})).on("error",(function(t){console.log(t),vant.Toast.fail("领取失败")}))}}},l=Object(i["a"])({},c),d=l,u=(s("8c94"),s("2877")),v=Object(u["a"])(d,n,a,!1,null,"31525054",null);e["default"]=v.exports},"4c92":function(t,e,s){t.exports=s.p+"img/logo.c0160726.svg"},"8c94":function(t,e,s){"use strict";s("920d")},"8ea2":function(t,e,s){t.exports=s.p+"img/USDT.5c93c206.svg"},"920d":function(t,e,s){},d7a5:function(t,e,s){t.exports=s.p+"img/Miningpool.52430f6a.svg"},dd20:function(t,e,s){t.exports=s.p+"img/UPC.acb359d1.svg"}}]);