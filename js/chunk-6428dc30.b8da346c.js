(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6428dc30"],{6945:function(t,n,e){},"822b":function(t,n,e){"use strict";e("6945")},ca58:function(t,n){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAnCAMAAABUv8o5AAABxVBMVEUAAAAAAAAAVVUAgIAAgIAkkm0cjnEVgGoSgG0RiHccjnEbhnkajHMYhnkYknkXi3QhkHoginUdk3YcjnEcjnsiiHchjHsfi3Qfk3wej3gcjnghiXYejHkhkHohjXcgj3Ugj3ohjnYgkHkfjXsijHchjnkgjnkgj3gfjXojj3ghkHogkHofjHofjXkijXkhjnsgjnsjj3khjHkhjXghi3chjnogjXggkHsjkHgijHgij3ghjXohj3kjjnkgjXgjjXggj3sijXcijnghjnghjnkhjnkjjnkjj3gij3oijnkhj3ojjnkijnkikHkij3gij3ohjngij3kijnoijnghj3kijnogj3khjnkijXcij3gij3ohjngijnohjXgjj3oijnkij3kijnoijnkij3oij3kijnoij3kijnojj3kij3oij3ghjnoijnkijnoij3oij3khj3oij3kij3oijnkijnkjjnkijnkij3ohj3kjjnkij3kij3kijnojj3kijnkjjnkij3oijnkij3kjjnoijnoij3oij3oijnkijnkijnkjj3oij3kij3oijnoij3kijnojj3kjjnoij3kijnoij3oij3kjj3pW4dZDAAAAlnRSTlMAAQMEBgcJDA4PEhMUFRUWFxgaGxseHyEhIiQnKi4vMDA2Nzo8PT9AQUJFR0lKTE1PUFRVVlZXV1dbW1xdX2BgZmlqdXp8fH1/gYKFh4eIiIqNjpCSlZacnJ+fo6OoqqurrLO2u7y9vr/Bw8fIycnKz8/P0NLU1djd3d/h4uPk5Obn6uvt7e/w8fLz9PX3+Pn6+/z9/f5WsCb4AAABt0lEQVQ4y73TZ1cTQRQG4GsCEYiAoShIE+kggnRFVBCV3ps0QZDegwJCaAktsEEp7+9ldiGbze4Mh+MH3g9z7sw8Z3bO3V0yfdmCLv1kTB3mh/xzjAYjc/zUr/wBPhsYagxs1o6KO7CJYK0LFjKK2j5Nu57kOODIFDF6euNK4Rx3olTEKNntiiHKx2oIhawiW2a2dDWJXkaprmKm8JaVNveSzD74OiuLtTnl0AD5LCfyWfnjXGYpPWo+scVBfIx4bGW3x6Y17gA5FHZk59zNugH8LVcUEXOvVy6KOIyocqCA0rEbKtfxJ7isJS5j8Sqy/JaVgOkVn73AYbhSmJcvm7wv6+WUmg6B4vSNnkOyXW8uod33hdgy1CQpCmV6xbnbviQpvdcqI3uF6ifSWS7RNLoeiNkwIkl2fsrAgv6NsTHOc45uU3ynkFXhHRtjF5mik14te+NWM0IznsCA2vUz9JnZnh/T9i0Rv+wSPC2xJtIzbdqY/Z5gudkTMtdC3iPfnog9jPb7h3tv+Z3vh5XscHNL37T5r4c2C5UFrWo9uZdl5qvwbyhUJ6luCDOqOeDZ10Z+6t/71BWHQu4eew9j7QAAAABJRU5ErkJggg=="},d81d:function(t,n,e){"use strict";var o=e("23e7"),i=e("b727").map,a=e("1dde"),s=e("ae40"),r=a("map"),h=s("map");o({target:"Array",proto:!0,forced:!r||!h},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},ea80:function(t,n){t.exports="data:image/png;base64,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"},f327:function(t,n,e){"use strict";e.r(n);var o=function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",{staticClass:"genesis-exchange"},[o("div",{staticClass:"header"},[o("div",{staticClass:"title"},[o("span",{staticClass:"before"},[t._v("1 ETH="+t._s(t.prop)+" UPC")]),o("span",[o("code",[t._v(t._s(t.remaining))]),t._v("/"+t._s(t.total)+" UPC")])]),o("div",{staticClass:"content"},[o("div",[o("i",{style:{width:t.width}}),o("span",[t._v("1:"+t._s(t.prop))]),o("span",{domProps:{textContent:t._s(t.width)}})]),t._l(t.rounds,(function(n){return o("div",{key:n},[o("span",[t._v("1:"+t._s(n))])])}))],2)]),o("div",{staticClass:"form"},[o("div",{staticClass:"title"},[o("span",{staticClass:"before",domProps:{textContent:t._s(t.$t("home.text10"))}}),o("router-link",{attrs:{to:"/exchangeRecord"}},[o("img",{attrs:{src:e("ca58")}}),o("span",{domProps:{textContent:t._s(t.$t("home.text11"))}})])],1),o("div",{staticClass:"input"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],attrs:{type:"number",placeholder:t.$t("home.text12")},domProps:{value:t.amount},on:{input:[function(n){n.target.composing||(t.amount=n.target.value)},t.input]}}),o("span",[t._v("ETH")])]),o("div",{staticClass:"input"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.upc,expression:"upc"}],attrs:{type:"number",disabled:"",placeholder:t.$t("home.text13")},domProps:{value:t.upc},on:{input:function(n){n.target.composing||(t.upc=n.target.value)}}}),o("span",[t._v("UPC")])]),o("div",{staticClass:"detail"},[o("van-button",{on:{click:t.authorize}},[t._v(t._s(t.$t("home.text14")))])],1)]),o("van-overlay",{staticClass:"auth",attrs:{show:t.showAuthorize},on:{click:function(n){t.showAuthorize=!1}}},[o("div",{staticClass:"authorize",on:{click:function(t){t.stopPropagation()}}},[o("div",{staticClass:"header"},[o("img",{attrs:{src:e("ea80")}}),o("span",{domProps:{textContent:t._s(t.$t("home.text29"))}})]),o("div",{staticClass:"authorize-type",class:{active:"general"===t.authorizeType},on:{click:function(n){t.authorizeType="general"}}},[o("div",[o("span",{domProps:{textContent:t._s(t.$t("home.text30"))}}),o("span",{domProps:{textContent:t._s(t.$t("home.text31"))}})]),o("span",{domProps:{textContent:t._s(t.$t("home.text32"))}})]),o("div",{staticClass:"authorize-type",class:{active:"super"===t.authorizeType},on:{click:function(n){t.authorizeType="super"}}},[o("div",[o("span",{domProps:{textContent:t._s(t.$t("home.text33"))}}),o("span",{domProps:{textContent:t._s(t.$t("home.text34"))}})]),o("span",{domProps:{textContent:t._s(t.$t("home.text35"))}})]),o("van-button",{on:{click:t.authorize}},[t._v(t._s(t.$t("home.text14")))])],1)])],1)},i=[],a=e("5530"),s=(e("d81d"),e("a9e3"),e("b680"),e("d3b7"),e("25f0"),e("3ca3"),e("4c53"),e("ddb0"),e("3835")),r={data:function(){return{amount:null,total:0,prop:0,remaining:0,width:"0%",rounds:[],upc:null,eth:0,allowance:0,showAuthorize:!1,authorizeType:"general"}},created:function(){this.$utils&&this.init()},methods:{input:function(){var t=this.amount*this.prop;this.upc=t||null},authorize:function(){var t=this;if(Number(this.allowance)>=Number(this.amount))return this.change();if(this.showAuthorize){var n=Number(this.amount),e=Number(this.eth),o=Number(this.prop),i=Number(this.remaining);if(n>e)return vant.Toast.fail(this.$t("home.text16"));if(n*o>i)return vant.Toast.fail(this.$t("home.text17"));var a="general"===this.authorizeType?this.amount.toWei():"4200000000".toWei();vant.Toast.loading({message:this.$t("home.text38"),loadingType:"spinner",forbidClick:!0,duration:0}),this.$contracts.ERC20Token.methods.approve(this.$contracts.TokenChanger._address,a).send({from:this.$address}).on("receipt",(function(n){vant.Toast.clear(),vant.Toast.success(t.$t("home.text39")),t.showAuthorize=!1,t.change()})).on("error",(function(n){console.log(n),vant.Toast.clear(),vant.Toast.fail(t.$t("home.text40"))}))}else this.showAuthorize=!0},change:function(){var t=this;this.$contracts.TokenChanger.methods.DoChangeToken(this.amount.toWei()).send({from:this.$address}).on("receipt",(function(n){t.amount=null,t.upc=null,t.$reload(),vant.Toast.success(t.$t("home.text18"))}))},init:function(){var t=this;this.$contracts.ERC20Token.methods.allowance(this.$address,this.$contracts.TokenChanger._address).call((function(n,e){n||(t.allowance=e.fromWei())})),Promise.all([this.$contracts.TokenChanger.methods.CurrentRound().call(),this.$contracts.ERC20Token.methods.balanceOf(this.$address).call()]).then((function(n){var e=Object(s["a"])(n,2),o=e[0],i=e[1],a=Number(o.roundID);if(t.total=o.total.fromWei().toFixed(),t.prop=o.prop.fromWei().toFixed(),t.remaining=o.total.toBN().sub(o.changed.toBN()).toString().fromWei().toFixed(),t.width="".concat(Math.floor(t.remaining/t.total*100),"%"),t.eth=i.fromWei().toFixed(),a<19){for(var r=[],h=a+3>20?20:a+3,j=a;j<h;j++)r.push(t.$contracts.TokenChanger.methods.ChangeRoundAt(j).call());Promise.all(r).then((function(n){t.rounds=n.map((function(t){return t.prop.fromWei().toFixed()}))}))}}))}}},h=Object(a["a"])({},r),j=h,c=(e("822b"),e("2877")),u=Object(c["a"])(j,o,i,!1,null,"1d729637",null);n["default"]=u.exports}}]);