(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ffe7c02a"],{"25ab":function(t,e,n){t.exports=n.p+"img/Pledgepool.e085834f.svg"},"29d2":function(t,e,n){t.exports=n.p+"img/Rightarrow.528267a5.svg"},"2cff":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"PledgeMining"},[s("div",{staticClass:"PledgeMiningTile"},[t._m(0),s("div",{staticClass:"content"},[s("span",[t._v(t._s(t.$t("PledgeMining.text5")))]),s("div",[s("span",[t._v(t._s(t.Available))]),s("img",{attrs:{src:n("29d2"),alt:""},on:{click:function(e){return t.$router.push("/Collectionpage")}}})]),s("div",[s("button",{on:{click:t.Availables}},[t._v(t._s(t.$t("PledgeMining.text6")))])])]),s("div",{staticClass:"bilateral"},[s("div",[s("div",[s("img",{attrs:{src:n("25ab"),alt:""}}),s("span",[t._v(t._s(t.$t("PledgeMining.text7")))])]),s("span",[t._v(t._s(t.Pledgepool))])]),s("i"),s("div",[s("div",[s("img",{attrs:{src:n("d7a5"),alt:""}}),s("span",[t._v(t._s(t.$t("PledgeMining.text8")))])]),s("span",[t._v(t._s(t.PledgeMiningpool))])])])]),s("div",{staticClass:"PledgeLP"},[s("div",{staticClass:"title"},[s("span",[t._v(t._s(t.$t("PledgeMining.text9")))]),s("span",[t._v(t._s(t.$t("PledgeMining.text10")))])]),s("div",{staticClass:"PledgeLP-Content"},[s("div",{staticClass:"above"},[s("div",[s("img",{attrs:{src:n("8ea2"),alt:""}}),s("img",{attrs:{src:n("dd20"),alt:""}}),s("div",[s("span",[t._v("USDT-UPC/LP")]),s("span",[t._v(t._s(t.$t("PledgeMining.text11")))])])]),s("div",[s("span",[t._v(t._s(t.$t("PledgeMining.text12")))]),s("span",[t._v(t._s(t.APY)+"%")])])]),s("div",{staticClass:"middle"},[s("div",[s("span",[t._v(t._s(t.$t("PledgeMining.text13")))]),s("div",[s("span",[t._v(t._s(t.pledgeamount)+" LP")]),s("span",[t._v("â‰ˆ$"+t._s(t.USDT))])])]),s("div",[s("div",[s("img",{attrs:{src:n("8ea2"),alt:""}}),s("span",[t._v(t._s(t.USDT)+" USDT")])]),s("div",[s("img",{attrs:{src:n("dd20"),alt:""}}),s("span",[t._v(t._s(t.UPC)+" UPC")])])])]),s("button",{on:{click:function(e){return t.$router.push("/Pledge")}}},[t._v(t._s(t.$t("PledgeMining.text14")))]),s("button",{staticClass:"withdraw",on:{click:function(e){return t.$router.push("/Redemption")}}},[t._v(t._s(t.$t("PledgeMining.text15")))])])]),s("van-overlay",{attrs:{show:t.show},on:{click:function(e){t.show=!1}}},[s("div",{staticClass:"wrapper",on:{click:function(t){t.stopPropagation()}}},[s("div",{staticClass:"block"},[s("div",[t._v(" "+t._s(t.$t("PledgeMining.text16"))+" ")]),s("div",[t._v(t._s(t.$t("Redemption.text7")))]),s("div",[s("span",[t._v(t._s(t.pledgeamount1))]),s("span",[t._v("USDT-UPC/LP")])]),s("button",{on:{click:t.emergencyWithdraw}},[t._v(t._s(t.$t("PledgeMining.text15")))])])])])],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"logo"},[s("img",{attrs:{src:n("4c92"),alt:""}})])}],i=n("5530"),o=(n("a9e3"),n("b680"),n("d3b7"),n("25f0"),n("96cf"),n("1da1")),r=n("7d35"),c={data:function(){return{Available:0,Pledgepool:0,APY:0,USDT:0,UPC:0,pledgeamount:0,pledgeamount1:0,PledgeMiningpool:0,show:!1}},created:function(){this.$contracts&&this.init(),console.log(this.$contracts)},methods:{init:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,s,a,i,o,c,d,l,g,u,v,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$contracts.MasterChef.methods.pendingCake(0,t.$address).call((function(e,n){e||(t.Available=n.fromWei().toFixed(4))})),n="0xe31b86a15ae9b6652b501a13aa8d84e2b34c3f2a",e.next=4,t.$contracts.UPC.methods.balanceOf(n).call();case 4:return s=e.sent,t.PledgeMiningpool=s.fromWei().toFixed(4),e.next=8,Object(r["b"])(t.$web3,t.$contracts.Token._address);case 8:return a=e.sent,e.next=11,Object(r["c"])(t.$web3,t.$contracts.MasterChef,0);case 11:return i=e.sent,t.Pledgepool=(Number(i.toString().fromWei())*Number(a.toString().fromWei())).toFixed(4),e.next=15,Object(r["a"])(t.$web3,t.$contracts.MasterChef,0,i);case 15:return o=e.sent,t.APY=o.words[0],t.$contracts.MasterChef.methods.userInfo(0,t.$address).call((function(e,n){e||(t.pledgeamount=n.amount.fromWei())})),t.$contracts.MasterChef01.methods.userInfo(0,t.$address).call((function(e,n){e||(t.pledgeamount1=n.amount.fromWei(),t.pledgeamount1>0&&(t.show=!0),console.log(t.pledgeamount1))})),e.next=21,t.$contracts.UPC.methods.balanceOf(t.$contracts.Token._address).call();case 21:return c=e.sent,e.next=24,t.$contracts.USDT.methods.balanceOf(t.$contracts.Token._address).call();case 24:return d=e.sent,e.next=27,t.$contracts.Token.methods.totalSupply().call();case 27:return l=e.sent,e.next=30,t.$contracts.MasterChef.methods.userInfo(0,t.$address).call();case 30:g=e.sent,u=g.amount.toBNs().div(l).times("100"),v=c.toBNs().times(u).div("100").toFixed(0).fromWei(),f=d.toBNs().times(u).div("100").toFixed(0).fromWei(),t.UPC=v.toFixed(4),t.USDT=f.toFixed(4);case 36:case"end":return e.stop()}}),e)})))()},Availables:function(){var t=this;if(0==this.Available)return vant.Toast.fail(this.$t("PledgeMining.text1"));var e=this.$contracts.MasterChef.methods.withdraw(0,0);e.send({from:this.$address}).on("transactionHash",(function(e){vant.Toast.loading({message:t.$t("PledgeMining.text2"),duration:"toast"})})).on("receipt",(function(e){vant.Toast.success(t.$t("PledgeMining.text3")),t.init()})).on("error",(function(e){console.log(e),vant.Toast.fail(t.$t("PledgeMining.text4"))}))},emergencyWithdraw:function(){var t=this,e=this.$contracts.MasterChef01.methods.emergencyWithdraw(0);e.send({from:this.$address}).on("transactionHash",(function(e){vant.Toast.loading({message:t.$t("Redemption.text3"),duration:"toast"})})).on("receipt",(function(e){vant.Toast.success(t.$t("Redemption.text4")),t.init(),t.show,t.$reload()})).on("error",(function(e){console.log(e),vant.Toast.fail(t.$t("Redemption.text5")),t.amount,t.$reload()}))}}},d=Object(i["a"])({},c),l=d,g=(n("e3f7"),n("2877")),u=Object(g["a"])(l,s,a,!1,null,"6c6be38c",null);e["default"]=u.exports},"4c92":function(t,e,n){t.exports=n.p+"img/logo.b31ab587.svg"},5887:function(t,e,n){},"8ea2":function(t,e,n){t.exports=n.p+"img/USDT.2fa22faf.svg"},d7a5:function(t,e,n){t.exports=n.p+"img/Miningpool.e01fe405.svg"},dd20:function(t,e,n){t.exports=n.p+"img/UPC.614da811.svg"},e3f7:function(t,e,n){"use strict";n("5887")}}]);