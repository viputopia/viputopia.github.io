(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59b186a6"],{"8ea2":function(t,e,n){t.exports=n.p+"img/USDT.5c93c206.svg"},"99af":function(t,e,n){"use strict";var a=n("23e7"),s=n("d039"),o=n("e8b5"),r=n("861d"),i=n("7b0b"),c=n("50c4"),u=n("8418"),l=n("65f0"),d=n("1dde"),v=n("b622"),f=n("2d00"),m=v("isConcatSpreadable"),p=9007199254740991,h="Maximum allowed index exceeded",g=f>=51||!s((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),b=d("concat"),_=function(t){if(!r(t))return!1;var e=t[m];return void 0!==e?!!e:o(t)},w=!g||!b;a({target:"Array",proto:!0,forced:w},{concat:function(t){var e,n,a,s,o,r=i(this),d=l(r,0),v=0;for(e=-1,a=arguments.length;e<a;e++)if(o=-1===e?r:arguments[e],_(o)){if(s=c(o.length),v+s>p)throw TypeError(h);for(n=0;n<s;n++,v++)n in o&&u(d,v,o[n])}else{if(v>=p)throw TypeError(h);u(d,v++,o)}return d.length=v,d}})},a896:function(t,e,n){},b296:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Pledge"},[n("div",{staticClass:"Pledgeabove"},[t._m(0),n("div",{staticClass:"lp"},[t._v("参与质押LP")]),n("div",{staticClass:"Inputbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.Pledgeamount,expression:"Pledgeamount"}],attrs:{type:"text",name:"",id:""},domProps:{value:t.Pledgeamount},on:{input:function(e){e.target.composing||(t.Pledgeamount=e.target.value)}}}),n("button",{on:{click:function(e){t.Pledgeamount=t.Tokenbalance}}},[t._v("最大")])]),n("div",{staticClass:"LPbalance"},[n("span",[t._v("LP余额 ")]),n("span",[t._v(t._s(t.Tokenbalance))])]),t._m(1),n("button",{directives:[{name:"show",rawName:"v-show",value:t.isapprove,expression:"isapprove"}],on:{click:t.approve}},[t._v("授权")]),n("button",{directives:[{name:"show",rawName:"v-show",value:0==t.isapprove,expression:"isapprove==false"}],on:{click:t.Pledge}},[t._v("质押")])]),n("div",{staticClass:"Pledgetitle"},[t._v("质押记录")]),t._l(t.list,(function(e){return n("div",{key:e,staticClass:"record"},[n("div",[t._m(2,!0),n("span",[t._v(t._s(e.time))])]),n("div",[n("span",[t._v("质押数量")]),n("span",[t._v(t._s(e.amount))])])])}))],2)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("img",{attrs:{src:n("8ea2"),alt:""}}),a("img",{attrs:{src:n("dd20"),alt:""}}),a("div",[a("span",[t._v("USDT-UPC/LP")]),a("span",[t._v("赚取 UPC")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{attrs:{href:"https://ht.mdex.co/#/add/0xa71EdC38d189767582C38A3145b5873052c3e47a/0xB1bCc3BacbBBd02f02F9c1335f79C9DD98684905"}},[n("div",{staticClass:"Getlp"},[t._v("获取lp")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("img",{attrs:{src:n("8ea2"),alt:""}}),a("img",{attrs:{src:n("dd20"),alt:""}}),a("span",[t._v("USDT-UPC/LP")])])}],o=n("5530"),r=(n("99af"),n("a9e3"),n("b680"),n("96cf"),n("1da1")),i={data:function(){return{Tokenbalance:0,Pledgeamount:"",isapprove:!0,list:[]}},created:function(){this.$contracts&&this.init()},methods:{init:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$contracts.Token.methods.balanceOf(t.$address).call((function(e,n){e||(t.Tokenbalance=n.fromWei().toFixed(4))})),e.next=3,t.$contracts.Token.methods.allowance(t.$address,t.$contracts.MasterChef._address).call();case 3:return n=e.sent,Number(n)>Number(t.Tokenbalance)&&(t.isapprove=!1),e.next=7,t.$web3.eth.getBlock("latest");case 7:a=e.sent,console.log(a),t.$contracts.MasterChef.events.Deposit({fromBlock:a.number-4990}).on("data",function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(n),e.next=3,t.$web3.eth.getBlock(n.blockHash);case 3:a=e.sent,t.list.unshift({amount:n.returnValues.amount.fromWei().toFixed(1),time:t.formatTime(a.timestamp)});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e)})))()},formatTime:function(t){var e=new Date(1e3*Number(t)),n=e.getFullYear(),a=e.getMonth()+1,s=e.getDate(),o=e.getHours(),r=e.getMinutes();return"".concat(n,"/").concat(a,"/").concat(s," ").concat(o,":").concat(r)},approve:function(){var t=this,e=this.$contracts.Token.methods.approve(this.$contracts.MasterChef._address,this.$web3.utils.toWei("10000000000000"));e.send({from:this.$address}).on("transactionHash",(function(t){vant.Toast.loading({message:"授权中...",duration:"toast"})})).on("receipt",(function(e){t.init(),vant.Toast.success("授权成功")})).on("error",(function(t){console.log(t),vant.Toast.fail("授权失败")}))},Pledge:function(){var t=this;if(""==this.Pledgeamount)return vant.Toast.fail("质押为0");if(this.Pledgeamount>this.Tokenbalance)return vant.Toast.fail("余额不足");var e=this.$contracts.MasterChef.methods.deposit(0,this.Pledgeamount.toWei());e.send({from:this.$address}).on("transactionHash",(function(t){vant.Toast.loading({message:"质押中...",duration:"toast"})})).on("receipt",(function(e){vant.Toast.success("领取成功"),t.init()})).on("error",(function(t){console.log(t),vant.Toast.fail("质押失败")}))}}},c=Object(o["a"])({},i),u=c,l=(n("ca5c"),n("2877")),d=Object(l["a"])(u,a,s,!1,null,"2ddb1447",null);e["default"]=d.exports},ca5c:function(t,e,n){"use strict";n("a896")},dd20:function(t,e,n){t.exports=n.p+"img/UPC.acb359d1.svg"}}]);